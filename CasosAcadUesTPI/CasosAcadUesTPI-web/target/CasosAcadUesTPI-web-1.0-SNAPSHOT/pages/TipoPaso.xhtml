<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Tipo Paso</title>
    </h:head>
    <h:body>
        <f:view>
            <h:form id="frmData">
                <p:dataTable id="tblData" value="#{frmTipoPaso.tabla}"
                    var="tabla"
                    lazy="true"
                    paginator="true"
                    rows="4"
                    selectionMode="single"
                    selection="#{frmTipoPaso.registro}"
                    emptyMessage="Sin coincidencias"
                    paginatorAlwaysVisible="true">
                    <p:ajax update=":frmEdit" event="rowSelect" listener="#{frmTipoPaso.cambiarSeleccion}"/>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="ID"/>
                            </f:facet>		
                            <h:outputText value="#{tabla.idTipoPaso}"/>
                         </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Nombre"/>
                            </f:facet>		
                            <h:outputText value="#{tabla.nombre}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Estado"/>
                            </f:facet>		
                            <h:outputText value="#{tabla.activo?'ACTIVO':'INACTIVO'}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Descripcion"/>
                            </f:facet>		
                            <h:outputText value="#{tabla.descripcion}"/>
                        </p:column>
                </p:dataTable>                
            </h:form>
        </f:view>
        <f:view>
            <h:form id="pepe">
                <p:commandButton value="Crear Nuevo">
                    <p:ajax update=":frmEdit" listener="#{frmTipoPaso.mostrar()}"/>
                </p:commandButton>
                <p:commandButton value="Cancelar">
                    <p:ajax update=":frmEdit" listener="#{frmTipoPaso.ocultar()}"/>
                </p:commandButton>
            </h:form>
            
            <h:form id="frmEdit">
                
                <h:panelGroup id="panelEdit" rendered="#{frmTipoPaso.frmEdit}">
                    <p:messages id="msj"/>
                    <h1><h:outputText value="Crear y Modificar"/></h1>
                    <p:panelGrid id="pnlEdit" columns="2">
                        <p:outputLabel value="Id:" for="idTipoRequisito" />
                        <p:inputText disabled="true" id="idTipoRequisito" value="#{frmTipoPaso.registro.idTipoPaso}" title="IdTipoRequisito"/>
                        <p:outputLabel value="Nombre:" for="nombre" />
                        <p:inputText id="nombre" value="#{frmTipoPaso.registro.nombre}" title="Nombre" required="true" requiredMessage="The Nombre field is required."/>
                        <p:outputLabel value="Estado:" for="activo" />
                        <p:selectBooleanCheckbox id="activo" value="#{frmTipoPaso.registro.activo}"/>
                        <p:outputLabel value="Observaciones:" for="observaciones" />
                        <p:inputTextarea id="observaciones" value="#{frmTipoPaso.registro.descripcion}" title="Observaciones" required="true" requiredMessage="The Observaciones field is required."/>                   
                    </p:panelGrid>
                    
                    <p:panelGrid id="panelBotones" columns="2">
                        <p:commandButton value="Guarar" icon="ui-icon-disk" rendered="#{frmTipoPaso.btnGuardar}">
                            <p:ajax process=":frmEdit:" update=":frmEdit :frmData" listener="#{frmTipoPaso.Guardar()}"/>
                        </p:commandButton>
                        <p:commandButton value="Eliminar" icon="ui-icon-trash" rendered="#{frmTipoPaso.btnBorrarModificar}">
                            <p:ajax process=":frmEdit" update=":frmEdit :frmData" listener="#{frmTipoPaso.Eliminar()}"/>
                        </p:commandButton>
                        <p:commandButton value="Modificar" icon="ui-icon-pencil" rendered="#{frmTipoPaso.btnBorrarModificar}">
                            <p:ajax process=":frmEdit" update=":frmEdit :frmData" listener="#{frmTipoPaso.Modificar()}"/>
                        </p:commandButton>
                    </p:panelGrid>
                </h:panelGroup>
            </h:form>
        </f:view>
    </h:body>
</html>

